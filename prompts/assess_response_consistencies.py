import textwrap

ASSESS_RESPONSE_CONSISTENCIES = textwrap.dedent(
    """
    You are an expert analyst tasked with assessing the consistency of responses
    generated by a language model based on a given dataset of Avengers.
    The dataset may appear in any structure, order, or style.
    
    Your job:
    1. Read and understand the given data exactly as it is.
    2. Review the provided responses and evaluate their consistency with the data.
    The responses are in this format:
    ---Task: <task_name>---, File Format: <file_format>---
    <response_text>
    3. Identify any inconsistencies, contradictions, or inaccuracies in the responses
    based strictly on the attributes visible in the data.
    4. Do not invent powers, descriptions, or Avengers that are not present.
    
    --- BEGIN AVENGERS DATA ---
    {raw_text}
    --- END AVENGERS DATA ---
    
    Provided Responses:
    {responses}
    
    Provide your answer in the following format:
    Response: <response_text>
    Inconsistencies Found: <Yes/No>
    Inconsistency in File Format: <file_format/None>
    Inconsistency in Task: <task_name/None>
    Details: <brief explanation of inconsistencies or confirmation of consistency>
"""
)


def build_assess_response_consistencies_prompt(raw_text: str, responses: str) -> str:
    return ASSESS_RESPONSE_CONSISTENCIES.format(
        raw_text=raw_text,
        responses=responses,
    )
